{# ---
  all:
    children:
      CVP:
        hosts:
          cv_server:
            ansible_httpapi_host: {{ cookiecutter.ansible_host }}
            ansible_host: {{ cookiecutter.ansible_host }}
            ansible_user: {{ cookiecutter.ansible_user }}
            ansible_password: {{ cookiecutter.ansible_password }}
            ansible_connection: httpapi
            ansible_httpapi_use_ssl: true
            ansible_httpapi_validate_certs: false
            ansible_network_os: eos
            ansible_httpapi_port: 443
            # Configuration to get Virtual Env information
            ansible_python_interpreter: $(which python3)
      # DC1_Fabric - EVPN Fabric running in home lab
      {%- for dc in cookiecutter.inventory.dc_list %}
      {{ dc.dc_name }}:
        children:
          {{ dc.dc_name }}_FABRIC:
            children:
            {%- if dc.group_list is defined %}
              {%- for group in dc.group_list %}
              {{ group.group_name }}:

                {%- if group.host_list is defined %}
                hosts:
                  {%- for host in group.host_list %}
                  {{ host.hostname }}:
                    ansible_host: {{ host.ansible_host }}
                  {%- endfor %}
                {%- endif %}

                {%- if group.subgroup_list is defined %}
                children:
                  {%- for subgroup in group.subgroup_list %}
                  {{ subgroup.subgroup_name }}:

                  {%- if subgroup.host_list is defined %}
                    hosts:
                  {%- for host in subgroup.host_list %}
                      {{ host.hostname }}:
                        ansible_host: {{ host.ansible_host }}
                  {%- endfor %}
                {%- endif %}

                  {%- endfor %}
                {%- endif %}

              {%- endfor %}
            {%- endif %}
            vars:
              ansible_connection: httpapi
              ansible_network_os: eos
              ansible_user: {{ cookiecutter.ansible_user }}
              # should use vault for passwords
              ansible_ssh_pass: {{ cookiecutter.ansible_password }}
              ansible_become: true
              ansible_become_method: enable
              ansible_httpapi_use_ssl: true
              ansible_httpapi_validate_certs: false
          {{ dc.dc_name }}_TENANTS_NETWORKS:
            children:
              LEAFS:
          {{ dc.dc_name }}_SERVERS:
            children:
              LEAFS:
      {%- endfor %} #}